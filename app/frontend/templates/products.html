{% extends "base.html" %}

{% block content %}
<div class="page-header">
    <h2>–°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ü–∏–∏</h2>
    <a href="/products/add" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç</a>
</div>

{% if error %}
<div class="alert alert-error">
    {{ error }}
</div>
{% endif %}

{% if success %}
<div class="alert alert-success">
    {{ success }}
</div>
{% endif %}

<div class="table-container">
    <table class="data-table">
        <thead>
            <tr>
                <th>–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ü–∏–∏</th>
                <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                <th>–í—Ä–µ–º—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è (—á)</th>
                <th>–ê—Ä—Ç–∏–∫—É–ª</th>
                <th>–°—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ)</th>
                <th>–ú–∞—Ç–µ—Ä–∏–∞–ª</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td>{{ product.product_type }}</td>
                <td>{{ product.product_name }}</td>
                <td class="text-center">{{ product.production_time }}</td>
                <td>{{ product.article }}</td>
                <td class="text-right">{{ "{:,.2f}".format(product.min_partner_price).replace(",", " ") }}</td>
                <td>{{ product.main_material }}</td>
                <td class="actions">
                    <a href="/products/{{ product.id }}" class="btn-action btn-view" title="–ü—Ä–æ—Å–º–æ—Ç—Ä">
                        üëÅÔ∏è
                    </a>
                    <a href="/products/edit/{{ product.id }}" class="btn-action btn-edit" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                        ‚úèÔ∏è
                    </a>
                    <form action="/products/delete/{{ product.id }}" method="post" 
                          onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ–¥—É–∫—Ç?');" 
                          style="display: inline;">
                        <button type="submit" class="btn-action btn-delete" title="–£–¥–∞–ª–∏—Ç—å">
                            üóëÔ∏è
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="pagination">
    {% if page > 1 %}
        <a href="/products?page={{ page-1 }}" class="btn">–ù–∞–∑–∞–¥</a>
    {% endif %}
    <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page }}</span>
    {% if has_next %}
        <a href="/products?page={{ page+1 }}" class="btn">–í–ø–µ—Ä–µ–¥</a>
    {% endif %}
</div>
{% endblock %}